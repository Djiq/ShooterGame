<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sHitbox</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hsp = 0;
vsp = 0;
spd = 2;
rel = 0;
hp = 20;
maxhp = 20;
   

ammo_load = 0;
maxammo = 6;
ammo = 0;
clamp(ammo,0,maxammo);
reload = 0;
respeed = 32;
atkspeed = 16;

alarm[0] = respeed;
alarm[1] = atkspeed;
alarm[2] = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string></string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Sterring

var movespeed = spd;
key_left =  -keyboard_check(ord("A"));
key_right =  keyboard_check(ord("D"));
key_down =  -keyboard_check(ord("W"));
key_up =  keyboard_check(ord("S"));

vmove = key_up  + key_down;
vsp = vmove * movespeed;
hmove = key_left + key_right;
hsp = hmove * movespeed;

//Horizontal Collision
if (place_meeting(x+hsp,y,oWall))
{
    while(!place_meeting(x+sign(hsp),y,oWall))
    {
        x += sign(hsp);
    }
    hsp = 0;
}
x += hsp;



//Horizontal Collision
if (place_meeting(x,y+vsp,oWall))
{
    while(!place_meeting(x,y+sign(vsp),oWall))
    {
        y += sign(vsp);
    }
    vsp = 0;
}
y += vsp;

//shooting

var mouse = point_direction(x,y,mouse_x,mouse_y);
//revolver
if(alarm[0] &lt;=0){
    if(alarm[1] &lt;= 0) {
        if(mouse_check_button_pressed(mb_left)){
            if(ammo_load &gt; 0) {
                ammo_load -= 1 ;
                scrShoot(sBullet,5,mouse,2,0,0,240,parEnemy);
                alarm[1] = atkspeed;
                
            } 
        }    
    }
}

if(keyboard_check_pressed(ord("R"))){
    if(alarm[0] &lt;= 0){
        alarm[0] = respeed
        rel = 1;
    }

}
if(rel == 1 and alarm[0] &lt;= 0){
if(ammo &gt;= maxammo){
    
        ammo_load = maxammo
        ammo -= maxammo
    
    } else if(ammo &gt; 0 and ammo &lt; maxammo){
       
        ammo_load = ammo;
        ammo -= ammo_load;
}
rel = 0;
}
//note:add more weapons
//note:add equipment



//debug code
if(keyboard_check(ord("C"))){
    ammo += 1;
}

//
view_xview = oPlayer.x - view_wview;
view_yview = oPlayer.y - view_hview;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
draw_set_colour(c_white)
draw_text(32,32,ammo)
draw_text(32,64,ammo_load)


var ammon = (alarm[0]/respeed)*100;
var hpl = (hp/maxhp)*100
draw_healthbar(32,96,64,128,ammon,c_white,c_black,c_black,2,1,0)
draw_healthbar(32,128,64,320,hpl,c_black,c_orange,c_red,2,1,0)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
var color = c_white;
if(alarm[2] &gt; 0){
color = make_colour_rgb(255,255 - alarm[2]*3, 255 - alarm[2]*3);


}
var scale = 1;
if(sign(x - mouse_x) = -1){
scale = -1
}
if(sign(x - mouse_x) = 1){
scale = 1
}

draw_sprite_ext(sPlayer,0,x,y,scale,1,1,color,1);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
